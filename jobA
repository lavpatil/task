pipeline {
    agent any
    options { timestamps ()}

    stages {
        stage('Build') {
            steps {
                echo 'Build code'
            }
        }
        stage('Test') {
            steps {
                echo 'test code'
            }
        }
        stage('Deploy') {
            steps {
                echo "Deploy code ${currentBuild.durationString.minus(' and counting')}"
            }
        }
        stage('Build Number') {
            steps {
                echo "Build Number is  ${currentBuild.number},Job Duration ${currentBuild.durationString.minus(' and counting')}"
            }
        }
        stage('python') {
            steps {
                 def calculateDuration(start, end) {
                 long elapsedTime = end - start

                   Long second = (elapsedTime / 1000).longValue() % 60;
                   Long minute = (elapsedTime / (1000 * 60)).longValue() % 60;
                   Long hour = (elapsedTime / (1000 * 60 * 60)).longValue() % 24;
                   Long remainderMillis = elapsedTime % 1000

                   return "${hour}h ${minute}m ${second}s ${remainderMillis}ms"
             }
           }
        }
     }
}
